c
@user.orders_in_last_12_months.count
@user
c
@user
c
user
@user
c
self.user
self
c
@order
c
@order.user_id
User.find(get_generic_customer_id)&.id
User.find_by!(email: "generic_customer@devtechperu.com")&.id
c
@order.user
c
@order.user
User.find(get_generic_customer_id)&.id
@order.user_id
@order
c
self.seller
self.user
self.customer
self.user
self
c
user
@user
c
@location.errors
c
value
c
value
c
value
c
value
c
value
c
value.class
value
c
@company_goals
c
@company_goals
c
@company_goals = {
          series: pie_chart_data.map { |data| data[:y] },
          labels: pie_chart_data.map { |data| data[:name] },
          colors: pie_chart_data.map { |data| data[:color] },
          total_sales: total_sales
        }
pie_chart_data = @commission_ranges.map.with_index do |range, index|
          max_value = range.max_sales || (range.min_sales * 2)  # For the last range without max_sales
          value = [ total_sales - range.min_sales, 0 ].max
          value = [ value, max_value - range.min_sales ].min
          {
            name: "#{range.min_sales} - #{range.max_sales || 'Infinity'}",
            y: value,
            color: generate_color(index)
          }
        end
@current_commission = CommissionRange.find_commission_for_sales(total_sales, @selected_location)
total_sales = filtered_orders.sum(:total_price_cents) / 100.0
@commission_ranges = CommissionRange.where(location_id: @selected_location.id).order(:min_sales)
@selected_location
c
@selected_location
@selected_location.present?
c
@selected_location_id
c
@selected_location_id
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
@selected_location
c
location_id
params
c
params
location_id
c
value
c
formatted_value = number_to_currency(value,
        unit: currency.symbol,
        format: "%u %n",
        precision: 2,
        delimiter: ",",
        separator: "."
      )
value
c
formatted_value = number_to_currency(value,
        unit: currency.symbol,
        format: "%u %n",
        precision: 2,
        delimiter: ",",
        separator: "."
      )
value
c
formatted_value = number_to_currency(value,
        unit: currency.symbol,
        format: "%u %n",
        precision: 2,
        delimiter: ",",
        separator: "."
      )
value
c
formatted_value = number_to_currency(value,
        unit: currency.symbol,
        format: "%u %n",
        precision: 2,
        delimiter: ",",
        separator: "."
      )
value
c
formatted_value = number_to_currency(value,
        unit: currency.symbol,
        format: "%u %n",
        precision: 2,
        delimiter: ",",
        separator: "."
      )
currency.symbol
value
c
Preorder.create(warehouse: warehouse, product: order_item.product, order: @order, quantity: product_to_update.stock.abs)
@order
order_item.product
warehouse
product_to_update.stock
product_to_update.stocl
product_to_update
c
@order.user_id
@order.seller_id
c
@requisition.errors
c
self.order_date
self
c
JSON.parse(invoice_data)['efact_client_token']
c
JSON.parse(invoice_data)['efact_client_token']
c
invoice_data
JSON.parse(invoice_data)['efact_client_token']
c
JSON.parse(invoice_data)['efact_client_token']
invoice_data
invoice_data.invoicer
c
invoice_data.invoicer
invoice_data
invoice_data_hash
invoice_date_hash
c
JSON.parse(invoice_data)["efact_client_token"]
JSON.parse(invoice_data)[:efact_client_token]
JSON.parse(invoice_data)
invoice_data.class
invoice_data[:efact_client_token]
invoice_data["efact_client_token"]
invoice_data[:efact_client_token]
invoice_data
c
response.parsed_response["response_url"]
response.parsed_response["response_text"]
response.parsed_response
c
response.parsed_response
response
c
@order.user.customer
@order.user
c
pp User.find(14)
pp Customer.find(@order.user_id)&.user_id
Customer.find(@order.user_id)&.user_id
@order.user_id
get_generic_customer_id
@order.user
@order.user_id
c
@order.customer
@order
c
@order.order_items.first.price
@order.order_items.first
@order.order_items
@order.order_items.count
@order.price
order_params
@order.errors.full_messages
@order.save
@order.order_items
@order
c
@order
c
params[:in_modal]
c
params[:in_modal]
params
c
@user.errors
c
format.to_s
format.to?s
format
