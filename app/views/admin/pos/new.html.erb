<%= render "shared/admin/nav", { header_title: "Nueva Venta" } do %>
  <%= render "shared/admin/create_dropdown" %>
<% end %>

<div class="flex h-screen text-black bg-white dark:bg-black dark:text-white">
  <!-- Left Section -->
  <div class="w-2/3 p-4 bg-gray-100 dark:bg-gray-800">
    <!-- Top Section: Order Items -->
    <div class="flex flex-col p-4 mb-4 bg-white rounded shadow-md dark:bg-gray-700">
      <div id="order-items" data-controller="order-items">
        <!-- Column Titles -->
        <div class="grid grid-cols-8 gap-2 mb-2 font-bold">
          <div class="col-span-5">Producto</div>
          <div class="col-span-1">Cant</div>
          <div class="col-span-1">Precio</div>
          <div class="col-span-1">Subtotal</div>
        </div>

        <!-- Container for dynamically added items -->
        <div data-order-items-target="items" class="min-h-40"></div>

        <!-- Total -->
        <div class="flex justify-between pt-4 mt-4 text-2xl border-t dark:border-gray-600">
          <span>Total:</span>
          <span data-order-items-target="total">0.00 â‚¬</span>
        </div>
      </div>
    </div>

    <!-- Bottom Section: Buttons and Numeric Keypad -->
    <div class="flex flex-col h-1/3">
      <div class="flex justify-between mb-4">
        <button class="p-2 bg-gray-300 rounded btn dark:bg-gray-600">Comentarios</button>
        <button class="p-2 bg-gray-300 rounded btn dark:bg-gray-600">Cliente</button>
        <button class="p-4 text-white bg-teal-500 rounded btn dark:bg-teal-400">Pagar</button>
      </div>
      <!-- Numeric Keypad -->
      <div id="keypad" data-controller="keypad">
        <div class="grid grid-cols-4 gap-2">
          <button class="bg-white btn keypad-button dark:bg-gray-800">1</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">2</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">3</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">Cant</button>

          <button class="bg-white btn keypad-button dark:bg-gray-800">4</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">5</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">6</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">Descuento</button>

          <button class="bg-white btn keypad-button dark:bg-gray-800">7</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">8</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">9</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">Precio</button>

          <button class="bg-white btn keypad-button dark:bg-gray-800">+/-</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">0</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">.</button>
          <button class="bg-white btn keypad-button dark:bg-gray-800">C</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Right Section: Product Grid -->
  <div class="w-1/3 p-4 bg-gray-200 dark:bg-gray-900">
    <div id="product-grid" data-controller="product-grid">
      <!-- Search Bar -->
      <input type="text" placeholder="Buscar Productos..." class="w-full p-2 mb-4 text-black bg-white rounded dark:bg-gray-800 dark:text-white" data-product-grid-target="search" data-action="input->product-grid#searchProducts">

      <div class="grid grid-cols-2 gap-4" data-product-grid-target="productContainer">
        <!-- Products will be rendered here -->
      </div>

    </div>
  </div>
</div>