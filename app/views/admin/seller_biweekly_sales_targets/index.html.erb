<%= render "shared/admin/nav", { header_title: "Metas Quincenales por Vendedor" } do %>
<% end %>

<div class="container p-6 mx-auto mt-6 bg-white border rounded-lg shadow border-slate-300/80 shadow-slate-100 dark:shadow-slate-950 dark:bg-slate-800 dark:border-slate-600/80">
  <div id="datatable-element" data-controller="datatable" data-datatable-options-value="resource_name:'SellerBiweeklySalesTarget'">
    <table class="w-full">
      <thead>
        <tr>
          <th>Vendedor</th>
          <th>Período</th>
          <th>Meta</th>
          <th>Comisión por Meta</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <% @seller_biweekly_sales_targets.each do |target| %>
          <tr>
            <td><%= target.seller.name %></td>
            <td><%= target.year_month_period %></td>
            <td><%= format_currency(target.sales_target) %></td>
            <td><%= number_to_percentage(target.target_commission, precision: 2) %></td>
            <td><%= target.translated_status.titleize %></td>
            <td>
              <%= link_to "View", admin_seller_biweekly_sales_target_path(target), class: "text-indigo-600 hover:text-indigo-900" %>
              <%= link_to "Edit", edit_admin_seller_biweekly_sales_target_path(target), class: "text-indigo-600 hover:text-indigo-900 ml-2" %>
              <%= link_to "Delete", admin_seller_biweekly_sales_target_path(target), method: :delete, data: { confirm: "Are you sure?" }, class: "text-red-600 hover:text-red-900 ml-2" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>