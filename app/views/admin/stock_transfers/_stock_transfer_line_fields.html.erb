<!-- app/views/stock_transfers/_stock_transfer_line_fields.html.erb -->
<div class="flex items-center mb-4 space-x-4 nested-fields" data-target="stock-transfer-form.line">
  <!-- Product Field -->
  <div class="flex-1">
    <%= f.label :product_id, "Product", class: "form-label" %>
    <select data-controller="select"
            data-select-model-value="Product"
            data-select-multi-select-value="false"
            data-select-placeholder-value="Selecciona un producto"
            name="<%= f.object_name %>[product_id]" 
            class="form-input">
      <% Product.all.each do |product| %>
        <option value="<%= product.id %>" <%= 'selected' if f.object.product_id == product.id %>><%= product.name %></option>
      <% end %>
    </select>
  </div>

  <!-- Quantity Field -->
  <div class="flex-1">
    <%= f.label :quantity, "Quantity", class: "form-label" %>
    <%= f.number_field :quantity, class: "form-input", step: 1 %>
  </div>

  <!-- Remove Product Icon -->
  <div>
    <button type="button" class="text-red-500 hover:text-red-700" data-action="click->stock-transfer-form#removeProduct">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>
</div>